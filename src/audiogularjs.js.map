{"version":3,"sources":["temp/app.js"],"names":[],"mappings":"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","file":"temp/app.js","sourcesContent":["angular.module(\"audiogularjs\", []);\r\n/**\r\n * This class is responsible for managing the audio,\r\n * acts as service in audiogularjs component\r\n *\r\n * @author Joseph El Alam <joseph@vinelab.com>\r\n */\r\nclass Audiogularjs {\r\n\r\n    /**\r\n     * construct the class\r\n     *\r\n     * @var {Audio} the audio object being managed, by default init the Audio\r\n     */\r\n    constructor(audio = initAudio()) {\r\n        this.audio = audio;\r\n    }\r\n\r\n    /**\r\n     * Initialise the audio object using HTML Audio Element Javascript object\r\n     *\r\n     * @returns {HTMLAudioElement}\r\n     */\r\n    initAudio() {\r\n        return new Audio();\r\n    }\r\n\r\n    /**\r\n     * Play the audio by source\r\n     *\r\n     * @param src\r\n     */\r\n    playAudioBySource(src) {\r\n        setAudio(src);\r\n        playAudio();\r\n    }\r\n\r\n    /**\r\n     * Set the source for the audio object\r\n     */\r\n    setAudio(src) {\r\n        this.audio.src = src;\r\n    }\r\n\r\n    /**\r\n     * Play the audio\r\n     */\r\n    playAudio() {\r\n        this.audio.play();\r\n    }\r\n\r\n\r\n    /**\r\n     * Stop tha audio\r\n     */\r\n    stopAudio() {\r\n        this.audio.pause();\r\n    }\r\n\r\n    /**\r\n     * Reset the audio\r\n     */\r\n    resetAudio() {\r\n        this.audio.load();\r\n    }\r\n\r\n}\r\n/**\r\n * This class is responsible of managing the Audio State\r\n *\r\n * @author Joseph El Alam <joseph@vinelab.com>\r\n */\r\nclass AudioStates extends Audiogularjs {\r\n\r\n\r\n    constructor(audio) {\r\n        const STATE_PLAYING = 'playing';\r\n        const STATE_STOPPED = 'paused';\r\n\r\n        const CSS_PREFIX = 'audiogularjs';\r\n\r\n        const STATE_MAP = {\r\n            playing: 'is-playing',\r\n            paused: 'is-paused',\r\n            stopped: 'is-stopped'\r\n        };\r\n\r\n        super(audio);\r\n    }\r\n\r\n    /**\r\n     * Determine whether the giving src is for\r\n     * an audio currently playing\r\n     * @return {Boolean}\r\n     * @param src of the audio\r\n     * @returns {boolean}\r\n     */\r\n    isPlaying(src) {\r\n        let isPlaying = false;\r\n        if(this.audio.src === src && !this.audio.paused){\r\n            isPlaying = true;\r\n        }\r\n        return isPlaying;\r\n    }\r\n\r\n    /**\r\n     * Determine whether the giving src is not for\r\n     * an audio currently playing\r\n     * @return {Boolean}\r\n     * @param src of the audio\r\n     * @returns {boolean}\r\n     */\r\n    isStopped(src) {\r\n        return !this.isPlaying(src);\r\n    }\r\n\r\n    /**\r\n     * Get the CSS class name for the current state of the audio.\r\n     * @return {string}\r\n     */\r\n    getUIStateClass(src) {\r\n        let state;\r\n        if (this.isPlaying(src)) {\r\n            state = this.getPlayingUIStateClass();\r\n        } else {\r\n            state = this.getStoppedUIStateClass();\r\n        }\r\n\r\n        return state;\r\n    }\r\n\r\n    getPlayingUIStateClass() {\r\n        return this.getClassForState(STATE_PLAYING);\r\n    }\r\n\r\n    getStoppedUIStateClass() {\r\n        return this.getClassForState(STATE_STOPPED);\r\n    }\r\n\r\n    getClassForState(state) {\r\n        return `${ this.CSS_PREFIX }-${ this.STATE_MAP[state] }`;\r\n    }\r\n\r\n}\r\nangular.module(\"audiogularjs\").directive(\"audiogularjsPlay\", AudiogularjsService);\r\n\r\n\r\naudiogularjsPlay.$inject = ['AudiogularjsService'];\r\nfunction audiogularjsPlay(AudiogularjsService) {\r\n    return {\r\n        restrict: \"EA\",\r\n        scope: {\r\n            \"src\": \"@\"\r\n        },\r\n        replace: true,\r\n        require: \"audiogularjsPlay\",\r\n        template: '<div ng-class=\"audioPlayCtrl.isPlayed()\"><div>',\r\n        bindToController: true,\r\n        controller: function () {\r\n            var self = this;\r\n            self.isPlaying = AudiogularjsService.getUIStateClass;\r\n            self.playPause = playPause;\r\n\r\n            function playPause() {\r\n                if (AudiogularjsService.isPlaying()) {\r\n                    AudiogularjsService.stopAudio();\r\n                } else {\r\n                    AudiogularjsService.stopAudio();\r\n                    AudiogularjsService.playAudioBySource(self.src);\r\n                }\r\n            }\r\n\r\n        },\r\n        controllerAs: 'audioPlayCtrl',\r\n        link: function (scope, element, attrs, ctrls) {\r\n            element.on(\"click\", function () {\r\n                ctrls.playPause();\r\n                scope.$apply();\r\n            });\r\n            scope.$on('$destroy', function () {\r\n                AudiogularjsService.resetAudio();\r\n            });\r\n        }\r\n    };\r\n}\r\nangular.module(\"audiogularjs\").factory(\"AudiogularjsService\", Audiogularjs);"]}
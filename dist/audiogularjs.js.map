{"version":3,"sources":["temp/app.js"],"names":[],"mappings":"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","file":"temp/app.js","sourcesContent":["angular.module(\"audiogularjs\", []);\r\n/**\r\n * This class is responsible of managing the Audio State\r\n *\r\n * @author Joseph El Alam <joseph@vinelab.com>\r\n */\r\nclass AudiogularState {\r\n\r\n\r\n    constructor() {\r\n\r\n        /** @const */ this.STATE_PLAYING = 'playing';\r\n        /** @const */ this.STATE_STOPPED = 'stopped';\r\n        /** @const */ this.STATE_PAUSED = 'paused';\r\n    }\r\n\r\n    /**\r\n     * Get the state of the audio of the given src\r\n     *    with comparison of the current audio\r\n     *\r\n     * @param {sudiogular} currentAudio\r\n     * @param {string} src\r\n     * @returns {string}\r\n     */\r\n    getState(currentAudio, src) {\r\n        return (currentAudio.src === src && !currentAudio.paused) ? this.STATE_PLAYING : this.STATE_STOPPED;\r\n    }\r\n\r\n\r\n}\r\n/**\r\n * This class create a wrapper of the Audio Html Element\r\n */\r\nclass Audiogular {\r\n\r\n    constructor() {\r\n        this.audio = new Audio();\r\n        return this.audio;\r\n    }\r\n\r\n}\r\n/**\r\n * This class is responsible for managing the UI,\r\n *    acts as controller of the directive\r\n *\r\n * @author Joseph El Alam <joseph@vinelab.com>\r\n */\r\nclass AudiogularController {\r\n\r\n    constructor(AudiogularService, src) {\r\n        this.AudiogularService = AudiogularService;\r\n        this.state = new AudiogularState();\r\n\r\n        /**\r\n         * The src attribute directive value\r\n         */\r\n        this.src = src;\r\n\r\n        /** @const */ this.CSS_PREFIX = 'audiogularjs';\r\n\r\n        /** @const */ this.STATE_MAP = [];\r\n        /** @const */ this.STATE_MAP[this.state.STATE_PLAYING] = 'is-playing';\r\n        /** @const */ this.STATE_MAP[this.state.STATE_PAUSED] = 'is-paused';\r\n        /** @const */ this.STATE_MAP[this.state.STATE_STOPPED] = 'is-stopped';\r\n\r\n\r\n    }\r\n\r\n    /**\r\n     * Get the CSS class name for the current\r\n     *    state of the audio.\r\n     *\r\n     * @return {string}\r\n     */\r\n    getCssClass() {\r\n        //return (this.AudiogularService.isPlaying(this.src))?\r\n        //    this.getPlayingCssClass():\r\n        //    this.getStoppedCssClass();\r\n        let state;\r\n        if (this.AudiogularService.isPlaying(this.src)) {\r\n            state = this.getPlayingCssClass();\r\n        } else {\r\n            state = this.getStoppedCssClass();\r\n        }\r\n        return state;\r\n    }\r\n\r\n    getPlayingCssClass() {\r\n        return this.getClassForState(this.state.STATE_PLAYING);\r\n    }\r\n\r\n    getStoppedCssClass() {\r\n        return this.getClassForState(this.state.STATE_STOPPED);\r\n    }\r\n\r\n    getPausedCssClass() {\r\n        return this.getClassForState(this.state.STATE_PAUSED);\r\n    }\r\n\r\n    getClassForState(state) {\r\n        return `${ this.CSS_PREFIX }-${ this.STATE_MAP[state] }`;\r\n    }\r\n\r\n    /**\r\n     * Play or stop the Audio depending on its state.\r\n     *\r\n     * @return {string}\r\n     */\r\n    playOrStop() {\r\n        if (this.AudiogularService.isPlaying(this.src)) {\r\n            this.AudiogularService.stop();\r\n        } else {\r\n            this.AudiogularService.stop();\r\n            this.AudiogularService.playBySource(this.src);\r\n        }\r\n    }\r\n}\r\n\r\n/**\r\n * This class is responsible for managing the audio,\r\n *    acts as service in audiogularjs component\r\n *\r\n * @author Joseph El Alam <joseph@vinelab.com>\r\n */\r\nclass AudiogularPlayer {\r\n\r\n    /**\r\n     * construct the class and\r\n     *    Initialise the audio object using HTML Audio Element Javascript object\r\n     * @var {Audio} the audio object being managed, by default init the Audio\r\n     */\r\n    constructor() {\r\n        this.audio = new Audiogular();\r\n        this.state = new AudiogularState();\r\n    }\r\n\r\n    /**\r\n     * Play the audio by source\r\n     *\r\n     * @param {string} src\r\n     */\r\n    playBySource(src) {\r\n        this.setSource(src);\r\n        this.play();\r\n    }\r\n\r\n    /**\r\n     * Set the source for the audio object\r\n     *\r\n     * @param {string} src\r\n     */\r\n    setSource(src) {\r\n        this.audio.src = src;\r\n    }\r\n\r\n    /**\r\n     * Play the audio\r\n     */\r\n    play() {\r\n        this.audio.play();\r\n    }\r\n\r\n\r\n    /**\r\n     * Stop tha audio\r\n     */\r\n    stop() {\r\n        this.audio.pause();\r\n    }\r\n\r\n    /**\r\n     * Reset the audio\r\n     */\r\n    reset() {\r\n        this.audio.load();\r\n    }\r\n\r\n    /**\r\n     * Checks if the src is for the current\r\n     *    playing audio\r\n     *\r\n     * @param {string} src\r\n     * @returns {boolean}\r\n     */\r\n    isPlaying(src) {\r\n        return this.state.getState(this.audio, src) === this.state.STATE_PLAYING;\r\n    }\r\n}\r\nangular.module(\"audiogularjs\").directive(\"audiogularPlay\", audiogularPlay);\r\n\r\n/**\r\n * The audiogularPlay directive function\r\n *\r\n * @returns {{restrict: string, scope: {src: string}, replace: boolean,\r\n  *    require: string, template: string, bindToController: boolean,\r\n  *   controller: AudiogularController, controllerAs: string,\r\n  *   link: AudiogularPlayLink}}\r\n */\r\nfunction audiogularPlay() {\r\n    return {\r\n        restrict: \"EA\",\r\n        scope: {\r\n            \"src\": \"@\"\r\n        },\r\n        replace: true,\r\n        require: \"audiogularjsPlay\",\r\n        template: '<div ng-class=\"audioPlayCtrl.getCssClass()\"><div>',\r\n        bindToController: true,\r\n        controller: AudiogularController,\r\n        controllerAs: 'audioPlayCtrl',\r\n        link: AudiogularPlayLink\r\n    };\r\n}\r\n\r\n/**\r\n * Inject AudiogularjsServiceto be used in\r\n *    the controller class\r\n */\r\nAudiogularController.$inject = ['AudiogularService'];\r\n\r\n/**\r\n * The link function of audiogularPlay directive\r\n *\r\n * @param scope\r\n * @param element\r\n * @param attrs\r\n * @param ctrls\r\n */\r\nfunction AudiogularPlayLink(scope, element, attrs, ctrls) {\r\n    element.on(\"click\", function () {\r\n        ctrls.playOrStop();\r\n        scope.$apply();\r\n    });\r\n    scope.$on('$destroy', function () {\r\n        AudiogularjsService.reset();\r\n    });\r\n}\r\nangular.module(\"audiogularjs\").service(\"AudiogularService\", AudiogularPlayer);"]}